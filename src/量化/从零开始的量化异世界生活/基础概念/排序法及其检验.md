
根据一些指标来做排序

检验因子预期收益率
检验$L$个投资组合收益率的单调性

1. 排序: 首先确定股票池，并将股票池中的全部股票在截面上按照排序变量的取值高低从大到小（或从小到大）排序
2. 分组: 按排名高低将全部股票分为$L$组
   做多排名最高的第一组内的股票，并同时做空排名最低的最后一组内的股票而构建一个多、空对冲的投资组合，该投资组合又被称为价差组合（spread portfolio）。
3. 定期更新: 由于个股在变量上的取值并非一成不变的（即代表它们在该因子上的暴露也是随时间变化的），因此需要定期进行上述两步，完成对因子模拟投资组合的更新。学术界通常称上述更新为再平衡（rebalance），且再平衡的频率多为每月或每年。在每期构建了新的因子模拟投资组合之后，计算该组合在当前时刻和下一个再平衡时刻之间的收益率。在时序上如此往复，就得到因子收益率的时间序列。

### 预期收益率 检验

### 单调性 检验
由于一个好的因子应能够解释个股超额收益的截面差异，因此排序法关注的第二个问题就是依照排序变量高低得到的L个投资组合的收益率是否有很好的单调性，这可以通过计算收益率和排序变量分组的[[crates/math/src/概率论与数理统计/随机变量的数字特征/秩相关系数|秩相关系数]]（rankcorrelation coefficient）来检验。

### 单排序法

### 双重排序法
关于双重排序，还有两点补充说明。

第一点说明，使用双重排序的目的是排
除两个变量之间的相互影响，从而更准确地计算围绕每个变量构建的因子模拟投
资组合的收益率。在这方面，条件双重排序比独立双重排序是更好的选择，因为
它是在控制了第一个分类变量后、考察第二个分类变量和股票收益率的条件关
系。
然而，学术界在研究因子时，往往更习惯使用独立双重排序。这可能与最初
经典的Fama and French（1993）三因子模型使用了独立排序有关。另外，当研究
异象时，为了排除小市值的影响，使用市值和异象变量进行条件双重排序、构建
异象投资组合并计算其超额收益也并不罕见。而在这些研究中，两种计算收益率
的方法均有使用。

第二点说明是关于双重排序时两个变量划分的分组数。当学术界研究异象
时，当股票池中的股票数量很大时，5×5或10×10都是常见的分组方式。但是当学
术界研究因子时，往往采用2×3的划分，且变量之一是股票的市值。这种处理方法
也和Fama and French（1993）三因子模型不无关系。由于该文是多因子模型的开
山鼻祖，它的很多处理方法对学术界都有着非常深远的影响。Fama and
French（1993）在构建规模（SMB）和价值（HML）两个因子[10]时，采用市值和
BM进行独立双重排序。在排序时，该文按市值把股票分成了大、小市值两组，按
BM把股票分成高、中、低三组，最后两两交集构建了2×3=6个投资组合。这种使
用市值和另外一个变量进行2×3划分的独立双重排序在Fama and French（1993）之
后得到了广泛的应用

#### 独立双重排序
假设使用 两个排序变量($X_1,X_2$) 分别独立地把股票划分成5组，即$L_1=L_2=5$，它们**两两取交集(即 对应组都有的股票)** 一共得到25个投资组合
设$P_{ij} (i,j=1..5)$ 为25个投资组合, $P_{55}$便是 $X_1$和$X_2$ 高排序分组的 股票交集的 投资组合
#### 条件双重排序
例如先对$X_1$分成$L_1=5$组, 后在$X_1$的一个组中 再进行 $X_2$分组,分成$L_2=5$组, 一共得到25个投资组合
反之可先用$X_2$分组 后 用$X_1$分组

条件双重排序是考察当$X_1$控制之后，变量$X_2$对股票收益率的影响

条件双重分组关心的是当第一个变量被控制之后，第二个变量是否对解释收益率有增量信息。在这种方法中，两个排序变量的地位是不对称的：第一个排序变量仅仅作为控制变量，人们关心的是第二个排序变量和收益率之间的关系，因此只需（也只应）围绕第二个排序变量构建因子并计算因子收益率

### 三重排序
# 参考
因子投资：方法与实践::2.1.2排序法及其检验
